<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Forms / Elements - NiceAdmin Bootstrap Template</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="/assets/img/favicon.png" rel="icon">
  <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="/assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="/assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="/assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="/assets/vendor/simple-datatables/style.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="/assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: NiceAdmin
  * Updated: Nov 17 2023 with Bootstrap v5.3.2
  * Template URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">
    <div class="d-flex align-items-center justify-content-between">
        <a href="/backend/user" class="logo d-flex align-items-center">
            <img src="/assets/img/logo.png" alt="" />
            <span class="d-none d-lg-block">Cơ sở dữ liệu</span>
        </a>
        <i class="bi bi-list toggle-sidebar-btn"></i>
    </div>
    <!-- End Logo -->

    <nav class="header-nav ms-auto">
        <ul class="d-flex align-items-center">
            <li class="nav-item dropdown pe-3">
              <a
              class="nav-link nav-profile d-flex align-items-center pe-0"
              href="#"
              data-bs-toggle="dropdown"
          >
              <img
                  onerror="this.src='https://www.seekpng.com/png/full/73-730482_existing-user-default-avatar.png'"
                  th:src="@{|~/image/user/${#authentication.principal.avatarImg}/|}"
                  style="
                      width: 34px;
                      height: 34px;
                      border-radius: 50%;
                      object-fit: cover;
                  "
                  alt=""
              />
              <span
                  sec:authentication="principal.email"
                  class="d-none d-md-block dropdown-toggle ps-2"
                  >Tài khoản</span
              >
          </a><!-- End Profile Iamge Icon -->

                <ul
                    class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile"
                >
                    <li>
                        <a
                            class="dropdown-item"
                            th:href="@{|~/profile/${#authentication.principal.id}|}"
                            sec:authentication="principal.email"
                        ></a>
                    </li>
                    <li>
                        <a class="dropdown-item" th:href="@{|~/profile/${#authentication.principal.id}|}"
                            >Hồ sơ của tôi</a
                        >
                    </li>
                    <li>
                        <a
                            class="dropdown-item"
                            href="/backend/user"
                            sec:authorize="hasAnyAuthority('ROLE_1')"
                            th:text="'Quay lại trang chủ'"
                        ></a>
                    </li>
                    <li>
                        <a
                            class="dropdown-item"
                            th:href="@{|~/change-password/${#authentication.principal.id}|}"
                            th:text="'Đổi mật khẩu'"
                        ></a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="/logout"
                            >Đăng xuất</a
                        >
                    </li>
                </ul>
                <!-- End Profile Dropdown Items -->
            </li>
            <!-- End Profile Nav -->
        </ul>
    </nav>
</header><!-- End Header -->

  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">

    <ul class="sidebar-nav" id="sidebar-nav">

      <li class="nav-item">
        <a class="nav-link " data-bs-target="#forms-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-journal-text"></i><span>Biểu thêm dữ liệu</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="forms-nav" class="nav-content collapse show" data-bs-parent="#sidebar-nav">
          <li>
            <a href="/backend/user/new">
              <i class="bi bi-circle"></i><span>Thêm/Sửa tài khoản</span>
            </a>
          </li>
          <li>
            <a href="/backend/role/new">
              <i class="bi bi-circle"></i><span>Thêm/Sửa vai trò</span>
            </a>
          </li>
          <li>
            <a href="/backend/country/new">
              <i class="bi bi-circle"></i><span>Thêm/Sửa đất nước</span>
            </a>
          </li>
          <li>
            <a href="/backend/city/new" >
              <i class="bi bi-circle"></i><span>Thêm/Sửa thành phố</span>
            </a>
          </li>
          <li>
            <a href="/backend/resort/new" class="active">
              <i class="bi bi-circle"></i><span>Thêm/Sửa resort</span>
            </a>
          </li>
          <li>
            <a href="/backend/extension/new">
              <i class="bi bi-circle"></i><span>Thêm/Sửa tiện ích</span>
            </a>
          </li>
          <li>
            <a href="/backend/room/new">
              <i class="bi bi-circle"></i><span>Thêm/Sửa phòng</span>
            </a>
          </li>

        </ul>
      </li><!-- End Forms Nav -->

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#tables-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-layout-text-window-reverse"></i><span>Bảng dữ liệu</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="tables-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
          <li>
            <a href="/backend/user/">
              <i class="bi bi-circle"></i><span>Bảng tài khoản</span>
            </a>
          </li>
          <li>
            <a href="/backend/role/">
              <i class="bi bi-circle"></i><span>Bảng vai trò</span>
            </a>
          </li>
          <li>
            <a href="/backend/country/">
              <i class="bi bi-circle"></i><span>Bảng đất nước</span>
            </a>
          </li>
          <li>
            <a href="/backend/city/">
              <i class="bi bi-circle"></i><span>Bảng thành phố</span>
            </a>
          </li>
          <li>
            <a href="/backend/resort/">
              <i class="bi bi-circle"></i><span>Bảng Resort</span>
            </a>
          </li>
          <li>
            <a href="/backend/extension/">
              <i class="bi bi-circle"></i><span>Bảng tiện ích</span>
            </a>
          </li>
          <li>
            <a href="/backend/room/">
              <i class="bi bi-circle"></i><span>Bảng phòng</span>
            </a>
          </li>
          <li>
            <a href="/backend/bill/">
              <i class="bi bi-circle"></i><span>Bảng quản lý hóa đơn</span>
            </a>
          </li>

        </ul>
      </li><!-- End Tables Nav -->

    </ul>

  </aside><!-- End Sidebar-->

  <main id="main" class="main">

    <div class="pagetitle">
      <h1>
        <th:block th:if="${resortDto.id == null}">
          Thêm khách sạn
        </th:block>
        <th:block th:unless="${resortDto.id == null}">
          Sửa thông tin khách sạn
        </th:block>
      </h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="">Cơ sở dữ liệu</a></li>
          <li class="breadcrumb-item">Biểu thêm dữ liệu</li>
          <li class="breadcrumb-item active">
            <th:block th:if="${resortDto.id == null}">
              Thêm khách sạn
            </th:block>
            <th:block th:unless="${resortDto.id == null}">
              Sửa thông tin khách sạn
            </th:block>
          </li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section" style="margin-left: 200px; margin-right: 200px">
      <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title" >
                <th:block th:if="${resortDto.id == null}">
                  Thêm khách sạn
                </th:block>
                <th:block th:unless="${resortDto.id == null}">
                  Sửa thông tin khách sạn
                </th:block>
              </h5>
              <h4 style="color: red" th:text="${message}" ></h4>
              <!-- General Form Elements -->
              <form th:action="@{/backend/resort/save}" enctype="multipart/form-data"
                    th:object="${resortDto}" th:method="post">
                <input hidden th:field="*{id}"/>
                <div class="row mb-3">
                  <label for="email" class="col-sm-2 col-form-label" >Name</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{name}" id="email">
                  </div>
                  <label th:if="${#fields.hasErrors('name')}" class="error" th:errors="*{name}"></label>
                </div>
                <div class="row mb-3">
                  <label for="lat" class="col-sm-2 col-form-label" >Lat</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{lat}" id="lat">
                  </div>
                  <label th:if="${#fields.hasErrors('lat')}" class="error" th:errors="*{lat}"></label>
                </div>
                <div class="row mb-3">
                  <label for="lng" class="col-sm-2 col-form-label" >Lng</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{lng}" id="lng">
                  </div>
                  <label th:if="${#fields.hasErrors('lng')}" class="error" th:errors="*{lng}"></label>
                </div>
                <div class="row mb-3">
                  <label class="col-sm-2 col-form-label">City Id</label>
                  <div class="col-sm-10">
                    <select class="form-select" aria-label="Default select example" th:field="*{cityId}">
                      <th:block th:each="cityDto : ${listCity}">
                        <option th:text="${cityDto.id}" th:value="${cityDto.id}"></option>
                      </th:block>
                    </select>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="infoHTML" class="col-sm-2 col-form-label" >infoHTML</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{infoHTML}" id="infoHTML">
                  </div>
                  <label th:if="${#fields.hasErrors('infoHTML')}" class="error" th:errors="*{infoHTML}"></label>
                </div>
                <div class="row mb-3">
                  <label class="col-sm-2 col-form-label">Point</label>
                  <div class="col-sm-10">
                    <select class="form-select" aria-label="Default select example" th:field="*{point}">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="formFile" class="col-sm-2 col-form-label">Ảnh khách sạn</label>
                  <div class="col-sm-10">
                    <input onchange="readURL(this)" class="form-control" type="file" th:field="*{multipartFileList}" id="formFile" multiple required>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="imagePreview" class="col-sm-2 col-form-label">Xem trước</label>
                  <img onerror="this.src='https://st4.depositphotos.com/17828278/24401/v/450/depositphotos_244011872-stock-illustration-image-vector-symbol-missing-available.jpg'" id="imagePreview" src="#" alt="your image" width="100px" style="
                  height: 500px;
                  object-fit: cover;
              "/>
                </div>

                <div class="row mb-3">

                  <div class="col">
                    <label class="col-sm-2 col-form-label">Extension</label>
                    <th:block th:each="extension : ${extensionList}">
                      <div class="form-check" >
                        <input class="form-check-input" type="checkbox" th:field="${resortDto.extensionListId}"
                               th:value="${extension.id}" th:text="${extension.name}">
                      </div>
                    </th:block>
                  </div>
                </div>

                <div class="row mb-3">
                  <label class="col-sm-2 col-form-label">Submit Button</label>
                  <div class="col-sm-10">
                    <button type="submit" class="btn btn-primary">Submit</button>
                  </div>
                </div>


              </form><!-- End General Form Elements -->

            </div>
          </div>

        </div>

      </div>
    </section>

  </main><!-- End #main -->


  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="/assets/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="/assets/vendor/chart.js/chart.umd.js"></script>
  <script src="/assets/vendor/echarts/echarts.min.js"></script>
  <script src="/assets/vendor/quill/quill.min.js"></script>
  <script src="/assets/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="/assets/vendor/tinymce/tinymce.min.js"></script>
  <script src="/assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="/assets/js/main.js"></script>

</body>

</html>
<script>
  function readURL(input){
    if (input.files && input.files[0]){
      var reader = new FileReader();

      reader.onload = function (e){
        document.getElementById('imagePreview').setAttribute('src', e.target.result);
      }

      reader.readAsDataURL(input.files[0]);
    }
  }

</script>